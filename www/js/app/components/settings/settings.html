
<ion-view title="{{'settings' | translate}}">
	<ion-nav-buttons side="left">
		<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
	</ion-nav-buttons>
	<ion-content class="has-header">
		<div class="list">
				<div class="item item-avatar settings" ng-if="data.currentUser">
					<div class="profile_avatar" >
						<img ng-src="{{imageBase64}}" ng-if="imageBase64" ng-click="showPopup()">
						<img ng-src="{{data.currentUser.avatar}}" ng-if="data.currentUser.avatar && !imageBase64" ng-click="showPopup()">
						<img ng-src="http://www.femto.it/wp-content/uploads/2014/04/default-user-avatar.png" ng-if="!data.currentUser.avatar && !imageBase64" ng-click="showPopup()">
						<i class="ion-edit" ng-click="showPopup()"></i>
					</div>
				</div>

				<div class="item item-input" ng-if="data.currentUser">
					<span class="input-label">{{'username' | translate}}</span>
					<input type="text" name="username" ng-model="data.currentUser.username">
				</div>

			<div class="item item-toggle">
				{{'get_alerts' | translate}}
				<label class="toggle toggle-assertive">
					<input type="checkbox" ng-model="settings.alerts">
					<div class="track">
						<div class="handle"></div>
					</div>
				</label>
			</div>
			
			<label class="item item-input item-select">
				<div class="input-label">
					{{'language' | translate}}
				</div>
				<select ng-model="settings.language" 
					ng-options="language.code as language.name for language in languages">
				</select>
			</label>
		</div> <!-- .list -->
		
		<button class="button button-block button-positive" ng-click="saveSettings()">
			{{'save' | translate}}
		</button>
		<ion-footer-bar ng-hide="!showMessage" align-title="center" class="ng-hide bar-balanced cssFade">
			<h1 class="title">{{'settings_saved' | translate}}</h1>
		</ion-footer-bar>
	</ion-content>
</ion-view>

