<ion-view title="{{'launch_alert' | translate}}">
	<ion-nav-buttons side="left">
		<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
	</ion-nav-buttons>
	<ion-content class="has-header">
		<div class="row padding-top">
			<div class="col col-center">
				<h2 style="text-align:center">{{'choose_type' | translate}}</h2>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<button class="button button-block button-positive" ng-click="openModal('lost')">
					<i class="icon ion-help padding-right"></i>{{'lost' | translate}}
				</button>
			</div>
			<div class="col">
				<button class="button button-block button-positive" ng-click="openModal('found')">
					<i class="icon ion-search padding-right"></i>{{'found' | translate}}
				</button>
			</div>
		</div>
	</ion-content>
	<script id="createalert.html" type="text/ng-template">
		<ion-modal-view>
			<ion-header-bar class="bar bar-dark" align-title="center">
				<h1 class="title"> 
					{{newAlert.type | translate}}&nbsp;{{'alert'|translate}}
				</h1>
				<div class="buttons">
					<button class="button button-clear" ng-click="formModal.hide()">
						{{'cancel' | translate}}
					</button>
				</div>
			</ion-header-bar>
			<ion-content class="has-header">
				<ion-scroll direction="y">
					<div class="list form">
						<label class="item item-input item-stacked-label">
							<span class="input-label">{{"item_name" | translate}}</span>
							<input type="text" placeholder="{{'item_name' | translate}}" ng-model="newAlert.name">
						</label>
						
						<label class="item item-input item-stacked-label">
							<span class="input-label">{{"item_description" | translate}}</span>
							<textarea placeholder="{{'item_description' | translate}}" ng-model="newAlert.description"></textarea>
						</label>

						<div class="item item-input item-stacked-label">
							<span class="input-label">{{"picture" | translate}}</span>
							<button class="button button-stable" ng-click="showPopup()">
								<i ng-hide="imageBase64" class="ion-images"></i>
								<img class="fit-thumbnail image-preview" ng-src="{{imageBase64}}" ng-if="imageBase64" />
							</button>
						</div>

						<label class="item item-input item-stacked-label padding">
							<div data-tap-disabled="true">
								<div id="map" style="height:180px;"></div>
							</div>
						</label>
						<div class="content padding">
							<button class="button button-block button-positive" ng-click="createAlert()"  ng-if="data.currentUser">
								{{'send' | translate}}
							</button>
							<div ng-if="!data.currentUser">
								<a ng-click="loginModal.show()">{{'login' | translate}}</a>
								<span>&nbsp;{{'to_launchalert' | translate}}</span>
							</div>
						</div>
					</div> <!-- list -->
				</ion-scroll>
			</ion-content>
		</ion-modal-view>
	</script>
</ion-view>
